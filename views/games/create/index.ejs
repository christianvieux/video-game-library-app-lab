<!DOCTYPE html>
<html>
<head>
    <title>Add New Game</title>
    <link rel="stylesheet" href="/css/style.css">

</head>
<body>
    <h1>Add a New Game</h1>
    
    <form action="/games" method="POST">
        <div>
            <label for="title">Title:</label>
            <input type="text" id="title" name="title" required>
        </div>

        <div>
            <label>Genre (select one):</label><br>
            <input type="radio" name="genre" value="Action" required>Action (Fast-paced gameplay)<br>
            <input type="radio" name="genre" value="RPG">RPG (Role-Playing Game)<br>
            <input type="radio" name="genre" value="Adventure">Adventure<br>
            <input type="radio" name="genre" value="Strategy">Strategy<br>
            <input type="radio" name="genre" value="Sports">Sports<br>
            <input type="radio" name="genre" value="Other">Other
        </div>

        <div>
            <label>Platform (select at least one):</label><br>
            <input type="checkbox" name="platform" value="PC">PC<br>
            <input type="checkbox" name="platform" value="PlayStation">PlayStation<br>
            <input type="checkbox" name="platform" value="Xbox">Xbox<br>
            <input type="checkbox" name="platform" value="Nintendo">Nintendo<br>
            <input type="checkbox" name="platform" value="Other">Other
        </div>

        <div>
            <label for="rating">Rating (0-10):</label>
            <input required type="number" id="rating" name="rating" min="0" max="10" step="0.1">
        </div>

        <div>
            <label for="cover_url">Cover Image URL:</label>
            <input type="url" id="cover_url" name="cover_url">
        </div>

        <button class="submitButton" type="submit">Add Game</button>
    </form>

    <a class="back button" href="/">Back to Games List</a>

    <script>
        document.querySelector("form").addEventListener('submit', function(event) {
            // Check if at least one genre is selected
            const genres = document.querySelectorAll('input[name="genre"]:checked');
            const platforms = document.querySelectorAll('input[name="platform"]:checked');
            
            if (genres.length === 0) {
                alert('Please select at least one genre.');
                event.preventDefault(); // Prevent form submission
                return false;
            }
    
            // Check if at least one platform is selected
            if (platforms.length === 0) {
                alert('Please select at least one platform.');
                event.preventDefault(); // Prevent form submission
                return false;
            }
            
            // If validation passed, form will be submitted
            return true;
        });
    </script>
</body>
</html>